<template>
  <require from="when-visible"></require>
  <div>
    <table class="table table-striped latest-data">
      <tbody>
        <tr repeat.for="db of databases">
          <td class="dbname">
            ${db.dbname & oneTime & whenVisible}
          </td>
          <td class="query-count">
            <span class-name.one-time="db.lastSample.countClassName & whenVisible">
              ${db.lastSample.nbQueries & oneTime & whenVisible}
            </span>
          </td>
          <td repeat.for="q of db.lastSample.topFiveQueries & oneTime & whenVisible"
              class-name.one-time="q.elapsedClassName & whenVisible">
            ${q.formatElapsed & oneTime & whenVisible}
            <div class="popover left">
              <div class="popover-content">
                ${q.query & oneTime & whenVisible}
              </div>
              <div class="arrow"></div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</template>
